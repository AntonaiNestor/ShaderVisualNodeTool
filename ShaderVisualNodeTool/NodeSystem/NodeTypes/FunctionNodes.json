{
  "NodeTypes": [
    {
      "NodeType": "Function Node",
      "Name": "Addition",
      "AvailableShaders": [
        "Vertex",
        "Fragment"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$a",
          "VariableType": "float"
        },
        {
          "SlotType": "Input",
          "SlotName": "$b",
          "VariableType": "float"
        },
        {
          "SlotType": "Output",
          "SlotName": "AddResult",
          "VariableType": "float"
        }

      ],
      "Code": [
        "float AddResult = $a + $b ; ",
        "//Testing Multiple Lines"
      ]

    },
    {
      "NodeType": "Function Node",
      "Name": "Multiplication",
      "AvailableShaders": [
        "Vertex",
        "Fragment"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$a",
          "VariableType": "float"
        },
        {
          "SlotType": "Input",
          "SlotName": "$b",
          "VariableType": "float"
        },
        {
          "SlotType": "Output",
          "SlotName": "MultResult",
          "VariableType": "float"
        }

      ],
      "Code": [
        "float MultResult = $a * $b ; ",
        "//Testing Multiple Lines"
      ]

    },
    {
      "NodeType": "Function Node",
      "Name": "Power",
      "AvailableShaders": [
        "Vertex",
        "Fragment"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$a",
          "VariableType": "float"
        },
        {
          "SlotType": "Input",
          "SlotName": "$b",
          "VariableType": "float"
        },
        {
          "SlotType": "Output",
          "SlotName": "$PowResult",
          "VariableType": "float"
        }

      ],
      "Code": [
        "float PowResult = pow($a , $b) ; ",
        "//Testing Multiple Lines"
      ]

    },

    {
      "NodeType": "Function Node",
      "Name": "Blinn Phong",
      "AvailableShaders": [
        "Vertex",
        "Fragment"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$lightPos",
          "VariableType": "vec3"
        },
        {
          "SlotType": "Input",
          "SlotName": "$Normal",
          "VariableType": "vec3"
        },
        {
          "SlotType": "Input",
          "SlotName": "$FragPos",
          "VariableType": "vec3"
        },
        {
          "SlotType": "Input",
          "SlotName": "$ambientColor",
          "VariableType": "vec4"
        },
        {
          "SlotType": "Input",
          "SlotName": "$diffuseColor",
          "VariableType": "vec4"
        },
        {
          "SlotType": "Input",
          "SlotName": "$specColor",
          "VariableType": "vec4"
        },
        {
          "SlotType": "Output",
          "SlotName": "BlinnPhong",
          "VariableType": "vec4"
        }

      ],
      "Code": [
        "vec3 normal = normalize($Normal); ",
        "vec3 lightDir = normalize($lightPos - $FragPos);",
        "float lambertian = max(dot(lightDir,normal), 0.0);",
        "float specular = 0.0;",
        "if(lambertian > 0.0) {",
        "vec3 viewDir = normalize(-$FragPos);",
        " vec3 halfDir = normalize(lightDir + viewDir);",
        "float specAngle = max(dot(halfDir, normal), 0.0);",
        "specular = pow(specAngle, 16.0);",
        "}",
        "vec4 BlinnPhong = $ambientColor + lambertian * $diffuseColor + specular * $specColor;"

      ]

    },

    {
      "NodeType": "Function Node",
      "Name": "ScreenSpaceNormals",
      "AvailableShaders": [
        "Fragment"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$lightPos",
          "VariableType": "vec3"
        },
        {
          "SlotType": "Input",
          "SlotName": "$LightColor",
          "VariableType": "vec3"
        },
        {
          "SlotType": "Input",
          "SlotName": "$FragPos",
          "VariableType": "vec3"
        },
        {
          "SlotType": "Input",
          "SlotName": "$ShowNormals",
          "VariableType": "bool"
        },
        {
          "SlotType": "Output",
          "SlotName": "SSN_Color",
          "VariableType": "vec4"
        }


      ],
      "Code": [
        "bool check = $ShowNormals ;",
        "vec3 X = dFdx($FragPos);",
        "vec3 Y = dFdy($FragPos);",
        "vec3 normal=normalize(cross(X,Y));",
        " vec3 lightDirection = normalize($lightPos - $FragPos);",
        "float light = max(0.0, dot(lightDirection, normal));",
        "vec4 SSN_Color;",
        "if (check){",
        "SSN_Color = vec4(normal, 1.0);",
        "}",
        "else{",
        "SSN_Color = vec4($LightColor * light, 1.0);",
        "}"

      ]

    },

    {
      "NodeType": "Function Node",
      "Name": "floatTovec4",
      "AvailableShaders": [
        "Vertex",
        "Fragment"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$r",
          "VariableType": "float"
        },
        {
          "SlotType": "Input",
          "SlotName": "$g",
          "VariableType": "float"
        },
        {
          "SlotType": "Input",
          "SlotName": "$b",
          "VariableType": "float"
        },
        {
          "SlotType": "Output",
          "SlotName": "Color",
          "VariableType": "vec4"
        }


      ],
      "Code": [
        "vec4 Color = vec4($r , $g, $b ,1.0f);"

      ]

    },
    {
      "NodeType": "Function Node",
      "Name": "floatTovec3",
      "AvailableShaders": [
        "Vertex",
        "Fragment"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$r",
          "VariableType": "float"
        },
        {
          "SlotType": "Input",
          "SlotName": "$g",
          "VariableType": "float"
        },
        {
          "SlotType": "Input",
          "SlotName": "$b",
          "VariableType": "float"
        },
        {
          "SlotType": "Output",
          "SlotName": "Color",
          "VariableType": "vec3"
        }


      ],
      "Code": [
        "vec3 Color = vec3($r , $g, $b );"

      ]

    },
    {
      "NodeType": "Function Node",
      "Name": "PingPong",
      "AvailableShaders": [
        "Vertex",
        "Fragment"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$t",
          "VariableType": "float"
        },
        {
          "SlotType": "Input",
          "SlotName": "$length",
          "VariableType": "float"
        },
        {
          "SlotType": "Output",
          "SlotName": "PP",
          "VariableType": "float"
        }
      ],
      "Code": [
        "float temp = mod($t, $length * 2.0f);",
        "float PP = $length - abs(temp - $length);"

      ]

    },
    {
      "NodeType": "Function Node",
      "Name": "MVP",
      "AvailableShaders": [
        "Vertex"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$vec",
          "VariableType": "vec3"
        },
        {
          "SlotType": "Output",
          "SlotName": "MVPvec",
          "VariableType": "vec4"
        }
      ],
      "Code": [
        " vec4 MVPvec = Projection * View * Model* vec4($vec, 1.0); "
      ]

    },
    {
      "NodeType": "Function Node",
      "Name": "vec3To4",
      "AvailableShaders": [
        "Vertex",
        "Fragment"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$vector",
          "VariableType": "vec3"
        },
        {
          "SlotType": "Output",
          "SlotName": "Vector4From3",
          "VariableType": "vec4"
        }
      ],
      "Code": [
        " vec4 Vector4From3 = vec4($vector, 1.0) ; "
      ]

    },
    {
      "NodeType": "Function Node",
      "Name": "vec2To4",
      "AvailableShaders": [
        "Vertex",
        "Fragment"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$vector",
          "VariableType": "vec2"
        },
        {
          "SlotType": "Output",
          "SlotName": "Vector4From3",
          "VariableType": "vec4"
        }
      ],
      "Code": [
        " vec4 Vector4From3 = vec4($vector,1.0, 1.0) ; "
      ]

    },
    {
      "NodeType": "Function Node",
      "Name": "MatVecMult",
      "AvailableShaders": [
        "Vertex",
        "Fragment"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$Mat4",
          "VariableType": "mat4"
        },
        {
          "SlotType": "Input",
          "SlotName": "$vec4",
          "VariableType": "vec4"
        },
        {
          "SlotType": "Output",
          "SlotName": "MVmult",
          "VariableType": "vec4"
        }
      ],
      "Code": [
        " vec4 MVmult= $Mat4 * $vec4 ; "
      ]

    },
    {
      "NodeType": "Function Node",
      "Name": "floatVec4Mult",
      "AvailableShaders": [
        "Vertex",
        "Fragment"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$float",
          "VariableType": "float"
        },
        {
          "SlotType": "Input",
          "SlotName": "$vec4",
          "VariableType": "vec4"
        },
        {
          "SlotType": "Output",
          "SlotName": "FV4mult",
          "VariableType": "vec4"
        }
      ],
      "Code": [
        " vec4 FV4mult = $float * $vec4 ; "
      ]

    },

    {
      "NodeType": "Function Node",
      "Name": "Vec4Addition",
      "AvailableShaders": [
        "Vertex",
        "Fragment"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$vec1",
          "VariableType": "vec4"
        },
        {
          "SlotType": "Input",
          "SlotName": "$vec2",
          "VariableType": "vec4"
        },
        {
          "SlotType": "Output",
          "SlotName": "vec4Add",
          "VariableType": "vec4"
        }
      ],
      "Code": [
        " vec4 vec4Add = $vec1 + $vec2 ; "
      ]

    },
    {
      "NodeType": "Function Node",
      "Name": "DivisionByW",
      "AvailableShaders": [
        "Vertex",
        "Fragment"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$vec4",
          "VariableType": "vec4"
        },
        {
          "SlotType": "Output",
          "SlotName": "Vec3DividedbyW",
          "VariableType": "vec3"
        }
      ],
      "Code": [
        " vec3 Vec3DividedbyW =vec3( $vec4) / $vec4.w ;"
      ]

    },
    {
      "NodeType": "Function Node",
      "Name": "Explode",
      "AvailableShaders": [
        "Vertex",
        "Geometry"
      ],
      "Slots": [
        {
          "SlotType": "Input",
          "SlotName": "$Normal",
          "VariableType": "vec3"
        },
        {
          "SlotType": "Input",
          "SlotName": "$Position",
          "VariableType": "vec4"
        },
        {
          "SlotType": "Input",
          "SlotName": "$Time",
          "VariableType": "float"
        },
        {
          "SlotType": "Input",
          "SlotName": "$Magnitude",
          "VariableType": "float"
        },
        {
          "SlotType": "Output",
          "SlotName": "ExplodePos",
          "VariableType": "vec4"
        }
      ],
      "Code": [
        "vec3 ExplDir = $Normal * ((sin($Time) + 1.0) / 2.0) * $Magnitude;",
        "vec4 ExplodePos = $Position + vec4(ExplDir, 0.0);"
      ]

    }


  ]
}